P_STACKBASE EQU 0
GSREG EQU P_STACKBASE
FSREG EQU GSREG+4
ESREG EQU FSREG+4
DSREG EQU ESREG+4
EDIREG EQU DSREG+4
ESIREG EQU EDIREG+4
EBPREG EQU ESIREG+4
KERNELESP EQU EBPREG+4
EBXREG EQU KERNELESP+4
EDXREG EQU EBXREG+4
ECXREG EQU EDXREG+4
EAXREG EQU ECXREG+4
RETADDR EQU EAXREG+4
EIPREG EQU RETADDR+4
CSREG EQU EIPREG+4
EFLAGSREG EQU CSREG+4
ESPREG EQU EFLAGSREG+4
SSREG EQU ESPREG+4
P_STACKTOP EQU SSREG+4
P_LDT_SEL EQU P_STACKTOP
P_LDT EQU P_LDT_SEL+4

TSS3_S_SP0 EQU 4

;以下选择子必须与protect_mode.h中的相同
SELECTOR_FLAT_C EQU  0x08
SELECTOR_TSS EQU 0x20
SELECTOR_KERNEL_CS EQU SELECTOR_FLAT_C


INT_M_CTL EQU 0x20
INT_M_CTLMASK EQU 0x21
INT_S_CTL EQU 0xA0
INT_S_CTLMASK EQU 0xA1

EOI EQU 0x20
